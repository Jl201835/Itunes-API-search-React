{"version":3,"sources":["components/SearchResult.js","components/AllResults.js","components/Search.js","App.js","index.js"],"names":["SearchResult","_ref","songData","react_default","a","createElement","className","src","artworkUrl100","alt","height","data-placement","title","collectionName","artistName","AllResults","songs","length","map","song","idx","components_SearchResult","key","Search","state","searchText","startDate","endDate","error","fetchingData","onTextChange","e","_this","setState","Object","defineProperty","target","name","value","onButtonClick","_callee","_this$formatSearchFie","formatedSearchText","formatedStartDate","formatedEndDate","requestUri","_ref2","data","searchResults","regenerator_default","wrap","_context","prev","next","formatSearchFields","concat","Axios","get","sent","console","log","results","filter","releaseDate","Date","props","setResults","t0","toString","stop","this","_ref3","replace","startMonth","Number","slice","startDay","startYear","endMonth","endDay","endYear","now","type","placeholder","onChange","disabled","onClick","components_AllResults","Component","App","components_Search","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.5b62a64d.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst SearchResult = ({ songData }) => {\n  return (\n    <div className='col-lg-2 col-sm-4 col-md-3'>\n      <div className='card'>\n        <img\n          className='card-img-top pl-4 pr-4 pt-2'\n          src={songData.artworkUrl100}\n          alt='Song cover'\n          height='100px'\n        />\n        <div className='card-body'>\n          <p\n            className='text-sm-left card-title font-weight-bold'\n            data-placement='bottom'\n            title={songData.collectionName}\n          >\n            {songData.collectionName}\n          </p>\n          <p className='text-sm-left card-text'>{songData.artistName}</p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nSearchResult.propTypes = {\n  songData: PropTypes.object\n};\n\nexport default SearchResult;\n","import React from 'react';\nimport SearchResult from './SearchResult';\nimport PropTypes from 'prop-types';\n\nconst AllResults = ({ songs }) => {\n  return (\n    <div>\n      {songs.length ? (\n        <div>\n          <hr />\n          <div className='row'>\n            {songs.map((song, idx) => (\n              <SearchResult songData={song} key={idx} />\n            ))}\n          </div>\n        </div>\n      ) : null}\n    </div>\n  );\n};\n\nAllResults.propTypes = {\n  songs: PropTypes.array\n};\n\nexport default AllResults;\n","import React, { Component } from 'react';\nimport Axios from 'axios';\nimport AllResults from './AllResults';\nimport PropTypes from 'prop-types';\n\nclass Search extends Component {\n  state = {\n    searchText: '',\n    startDate: '',\n    endDate: '',\n    error: '',\n    fetchingData: false\n  };\n\n  onTextChange = e => {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  };\n\n  onButtonClick = async () => {\n    this.setState({\n      fetchingData: true\n    });\n\n    const {\n      formatedSearchText,\n      formatedStartDate,\n      formatedEndDate\n    } = this.formatSearchFields(this.state);\n\n    const requestUri =\n      `https://cors-anywhere.herokuapp.com/` +\n      `https://itunes.apple.com/search?term=${formatedSearchText}`;\n\n    try {\n      const { data } = await Axios.get(requestUri);\n\n      console.log(data.results.length);\n      const searchResults = data.results.filter(song => {\n        const releaseDate = new Date(song.releaseDate);\n        return (\n          releaseDate >= formatedStartDate && releaseDate <= formatedEndDate\n        );\n      });\n      console.log(searchResults.length);\n\n      this.setState({ fetchingData: false }, () => {\n        this.props.setResults(searchResults);\n      });\n    } catch (error) {\n      this.setState({\n        error: error.toString(),\n        fetchingData: false\n      });\n    }\n\n    this.setState({\n      searchText: '',\n      startDate: '',\n      endDate: ''\n    });\n  };\n\n  formatSearchFields({ searchText, startDate, endDate }) {\n    const formatedSearchText = searchText.replace(/\\s+/g, '+');\n    let formatedStartDate, formatedEndDate;\n    if (startDate) {\n      const startMonth = Number(startDate.slice(0, 2)) - 1;\n      const startDay = Number(startDate.slice(3, 5));\n      const startYear = Number(startDate.slice(6, 10));\n      formatedStartDate = new Date(startYear, startMonth, startDay);\n    } else {\n      formatedStartDate = new Date(1900, 0, 1);\n    }\n\n    if (endDate) {\n      const endMonth = Number(endDate.slice(0, 2)) - 1;\n      const endDay = Number(endDate.slice(3, 5));\n      const endYear = Number(endDate.slice(6, 10));\n      formatedEndDate = new Date(endYear, endMonth, endDay);\n    } else {\n      formatedEndDate = Date.now();\n    }\n    return { formatedSearchText, formatedStartDate, formatedEndDate };\n  }\n\n  render() {\n    return (\n      <div>\n        <div className='form-group column'>\n          <div className='form-group row'>\n            <label className='mr-1 col-sm-2'>Artist Name:</label>\n            <input\n              className='mr-1 col-sm-4 form-control'\n              type='text'\n              placeholder='Search songs by artist name'\n              name='searchText'\n              onChange={this.onTextChange}\n              value={this.state.searchText}\n            />\n          </div>\n          <div className='form-group row'>\n            <label className='mr-1 col-sm-2'>Release Date:</label>\n            <label className='mr-1 col-sm-1'>from</label>\n            <input\n              className='mr-1 col-sm-2 form-control'\n              type='text'\n              placeholder='MM-DD-YYYY'\n              name='startDate'\n              onChange={this.onTextChange}\n              value={this.state.startDate}\n            />\n            <label className='mr-1 col-sm-1'>to</label>\n            <input\n              className='mr-1 col-sm-2 form-control'\n              type='text'\n              placeholder='MM-DD-YYYY'\n              name='endDate'\n              onChange={this.onTextChange}\n              value={this.state.endDate}\n            />\n          </div>\n          <button\n            className='col-sm-2 btn btn-primary'\n            disabled={!this.state.searchText}\n            onClick={this.onButtonClick}\n          >\n            Search\n          </button>\n        </div>\n\n        {this.state.fetchingData ? (\n          <p className='lead text-center'>{'loading... '}</p>\n        ) : (\n          (this.state.error && (\n            <p className='text-danger'>{this.state.error}</p>\n          )) || <AllResults songs={this.props.results} />\n        )}\n      </div>\n    );\n  }\n}\n\nSearch.propTypes = {\n  results: PropTypes.array,\n  setResults: PropTypes.func\n};\n\nexport default Search;\n","import React, { Component } from 'react';\nimport Search from './components/Search';\n\nclass App extends Component {\n  state = {\n    results: []\n  };\n\n  setResults = results => {\n    this.setState({ results });\n  };\n\n  render() {\n    return (\n      <div className='container'>\n        <div className='header clearfix mt-5'>\n          <h3 className='text-muted'>Itunes Song Search</h3>\n        </div>\n        <div className='jumbotron'>\n          <Search results={this.state.results} setResults={this.setResults} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n//import registerServiceWorker from './registerServiceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n//registerServiceWorker();\n"],"sourceRoot":""}