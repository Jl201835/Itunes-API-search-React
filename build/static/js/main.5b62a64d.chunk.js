(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,a){e.exports=a(47)},25:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(15),c=a.n(s),l=(a(25),a(2)),o=a(3),m=a(5),i=a(4),u=a(6),h=a(8),d=a.n(h),p=a(16),f=a(17),g=a(18),v=a.n(g),E=function(e){var t=e.songData;return n.a.createElement("div",{className:"col-lg-2 col-sm-4 col-md-3"},n.a.createElement("div",{className:"card"},n.a.createElement("img",{className:"card-img-top pl-4 pr-4 pt-2",src:t.artworkUrl100,alt:"Song cover",height:"100px"}),n.a.createElement("div",{className:"card-body"},n.a.createElement("p",{className:"text-sm-left card-title font-weight-bold","data-placement":"bottom",title:t.collectionName},t.collectionName),n.a.createElement("p",{className:"text-sm-left card-text"},t.artistName))))},b=function(e){var t=e.songs;return n.a.createElement("div",null,t.length?n.a.createElement("div",null,n.a.createElement("hr",null),n.a.createElement("div",{className:"row"},t.map(function(e,t){return n.a.createElement(E,{songData:e,key:t})}))):null)},N=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(n)))).state={searchText:"",startDate:"",endDate:"",error:"",fetchingData:!1},a.onTextChange=function(e){a.setState(Object(f.a)({},e.target.name,e.target.value))},a.onButtonClick=Object(p.a)(d.a.mark(function e(){var t,r,n,s,c,l,o,m;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({fetchingData:!0}),t=a.formatSearchFields(a.state),r=t.formatedSearchText,n=t.formatedStartDate,s=t.formatedEndDate,c="https://cors-anywhere.herokuapp.com/"+"https://itunes.apple.com/search?term=".concat(r),e.prev=3,e.next=6,v.a.get(c);case 6:l=e.sent,o=l.data,console.log(o.results.length),m=o.results.filter(function(e){var t=new Date(e.releaseDate);return t>=n&&t<=s}),console.log(m.length),a.setState({fetchingData:!1},function(){a.props.setResults(m)}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),a.setState({error:e.t0.toString(),fetchingData:!1});case 17:a.setState({searchText:"",startDate:"",endDate:""});case 18:case"end":return e.stop()}},e,this,[[3,14]])})),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"formatSearchFields",value:function(e){var t,a,r=e.searchText,n=e.startDate,s=e.endDate,c=r.replace(/\s+/g,"+");if(n){var l=Number(n.slice(0,2))-1,o=Number(n.slice(3,5)),m=Number(n.slice(6,10));t=new Date(m,l,o)}else t=new Date(1900,0,1);if(s){var i=Number(s.slice(0,2))-1,u=Number(s.slice(3,5)),h=Number(s.slice(6,10));a=new Date(h,i,u)}else a=Date.now();return{formatedSearchText:c,formatedStartDate:t,formatedEndDate:a}}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("div",{className:"form-group column"},n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{className:"mr-1 col-sm-2"},"Artist Name:"),n.a.createElement("input",{className:"mr-1 col-sm-4 form-control",type:"text",placeholder:"Search songs by artist name",name:"searchText",onChange:this.onTextChange,value:this.state.searchText})),n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{className:"mr-1 col-sm-2"},"Release Date:"),n.a.createElement("label",{className:"mr-1 col-sm-1"},"from"),n.a.createElement("input",{className:"mr-1 col-sm-2 form-control",type:"text",placeholder:"MM-DD-YYYY",name:"startDate",onChange:this.onTextChange,value:this.state.startDate}),n.a.createElement("label",{className:"mr-1 col-sm-1"},"to"),n.a.createElement("input",{className:"mr-1 col-sm-2 form-control",type:"text",placeholder:"MM-DD-YYYY",name:"endDate",onChange:this.onTextChange,value:this.state.endDate})),n.a.createElement("button",{className:"col-sm-2 btn btn-primary",disabled:!this.state.searchText,onClick:this.onButtonClick},"Search")),this.state.fetchingData?n.a.createElement("p",{className:"lead text-center"},"loading... "):this.state.error&&n.a.createElement("p",{className:"text-danger"},this.state.error)||n.a.createElement(b,{songs:this.props.results}))}}]),t}(r.Component),D=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(n)))).state={results:[]},a.setResults=function(e){a.setState({results:e})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"header clearfix mt-5"},n.a.createElement("h3",{className:"text-muted"},"Itunes Song Search")),n.a.createElement("div",{className:"jumbotron"},n.a.createElement(N,{results:this.state.results,setResults:this.setResults})))}}]),t}(r.Component);c.a.render(n.a.createElement(D,null),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.5b62a64d.chunk.js.map