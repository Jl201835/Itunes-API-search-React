{"version":3,"sources":["components/SearchResult.js","components/AllResults.js","components/Search.js","App.js","index.js"],"names":["SearchResult","_ref","songData","releaseYear","releaseDate","slice","releaseMonth","releaseDay","formatedReleaseDate","concat","react_default","a","createElement","className","src","artworkUrl100","alt","height","data-placement","title","collectionName","AllResults","songs","resultsReady","length","map","song","idx","components_SearchResult","key","Search","state","searchText","startDate","endDate","error","fetchingData","onTextChange","e","_this","setState","Object","defineProperty","target","name","value","onSearchButtonClick","_callee","_this$formatSearchFie","formatedSearchText","formatedStartDate","formatedEndDate","requestUri","_ref2","data","searchResults","regenerator_default","wrap","_context","prev","next","formatSearchFields","Axios","get","sent","results","filter","Date","props","setResults","t0","toString","stop","this","onClearButtonClick","_ref3","replace","dateRgx","test","startMonth","Number","startDay","startYear","endMonth","endDay","endYear","now","htmlFor","required","pattern","type","placeholder","onChange","disabled","onClick","components_AllResults","Component","App","components_Search","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.f28223c7.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst SearchResult = ({ songData }) => {\n  const releaseYear = songData.releaseDate.slice(0, 4);\n  const releaseMonth = songData.releaseDate.slice(5, 7);\n  const releaseDay = songData.releaseDate.slice(8, 10);\n  const formatedReleaseDate = `${releaseMonth}-${releaseDay}-${releaseYear}`;\n\n  return (\n    <div className='col-lg-2 col-sm-4 col-md-3'>\n      <div className='card'>\n        <img\n          className='card-img-top pl-4 pr-4 pt-2'\n          src={songData.artworkUrl100}\n          alt='Song cover'\n          height='100px'\n        />\n        <div className='card-body'>\n          <p\n            className='text-sm-left card-title font-weight-bold'\n            data-placement='bottom'\n            title={songData.collectionName}\n          >\n            {songData.collectionName}\n          </p>\n          <p className='text-sm-left card-text'>{formatedReleaseDate}</p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nSearchResult.propTypes = {\n  songData: PropTypes.object\n};\n\nexport default SearchResult;\n","import React from 'react';\nimport SearchResult from './SearchResult';\nimport PropTypes from 'prop-types';\n\nconst AllResults = ({ songs, resultsReady }) => {\n  return (\n    <div>\n      {resultsReady &&\n        (songs.length ? (\n          <div>\n            <hr />\n            <div className='row'>\n              {songs.map((song, idx) => (\n                <SearchResult songData={song} key={idx} />\n              ))}\n            </div>\n          </div>\n        ) : (\n          'No results found'\n        ))}\n    </div>\n  );\n};\n\nAllResults.propTypes = {\n  songs: PropTypes.array\n};\n\nexport default AllResults;\n","import React, { Component } from 'react';\nimport Axios from 'axios';\nimport AllResults from './AllResults';\nimport PropTypes from 'prop-types';\n\nclass Search extends Component {\n  state = {\n    searchText: '',\n    startDate: '',\n    endDate: '',\n    error: '',\n    fetchingData: false\n  };\n\n  onTextChange = e => {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  };\n\n  onSearchButtonClick = async () => {\n    this.setState({\n      fetchingData: true\n    });\n\n    const {\n      formatedSearchText,\n      formatedStartDate,\n      formatedEndDate\n    } = this.formatSearchFields(this.state);\n\n    const requestUri =\n      `https://cors-anywhere.herokuapp.com/` +\n      `https://itunes.apple.com/search?term=${formatedSearchText}&limit=200`;\n\n    try {\n      const { data } = await Axios.get(requestUri);\n\n      const searchResults = data.results.filter(song => {\n        const releaseDate = new Date(song.releaseDate);\n        return (\n          releaseDate >= formatedStartDate && releaseDate <= formatedEndDate\n        );\n      });\n\n      this.setState({ fetchingData: false }, () => {\n        this.props.setResults(searchResults, true);\n      });\n    } catch (error) {\n      this.setState({\n        error: error.toString(),\n        fetchingData: false\n      });\n    }\n  };\n\n  onClearButtonClick = () => {\n    this.setState({\n      searchText: '',\n      startDate: '',\n      endDate: ''\n    });\n    this.props.setResults([], false);\n  };\n\n  formatSearchFields = ({ searchText, startDate, endDate }) => {\n    const formatedSearchText = searchText.replace(/\\s+/g, '+');\n    let formatedStartDate, formatedEndDate;\n    const dateRgx = /\\d{2}-\\d{2}-\\d{4}/;\n    if (startDate && dateRgx.test(startDate)) {\n      const startMonth = Number(startDate.slice(0, 2)) - 1;\n      const startDay = Number(startDate.slice(3, 5));\n      const startYear = Number(startDate.slice(6, 10));\n      formatedStartDate = new Date(startYear, startMonth, startDay);\n    } else {\n      formatedStartDate = new Date(1900, 0, 1);\n    }\n\n    if (endDate && dateRgx.test(endDate)) {\n      const endMonth = Number(endDate.slice(0, 2)) - 1;\n      const endDay = Number(endDate.slice(3, 5));\n      const endYear = Number(endDate.slice(6, 10));\n      formatedEndDate = new Date(endYear, endMonth, endDay);\n    } else {\n      formatedEndDate = Date.now();\n    }\n    return { formatedSearchText, formatedStartDate, formatedEndDate };\n  };\n\n  render() {\n    return (\n      <div>\n        <div className='form-group column'>\n          <div className='form-group row'>\n            <div className='form-group column col-sm-6'>\n              <label htmlFor='searchText'>\n                Artist Name:\n                {!this.state.searchText ? (\n                  <span className='text-danger'> required</span>\n                ) : /[^A-Za-z0-9\\s]/.test(this.state.searchText) ? (\n                  <span className='text-danger'>\n                    {' '}\n                    only alpha numeric characters and spaces allowed\n                  </span>\n                ) : (\n                  ''\n                )}\n              </label>\n              <input\n                className='mr-1 col-sm-8 form-control'\n                required\n                pattern='[A-Za-z0-9\\s]+'\n                type='text'\n                placeholder='Search songs by artist name'\n                name='searchText'\n                onChange={this.onTextChange}\n                value={this.state.searchText}\n              />\n            </div>\n            <div className='form-group column col-sm-6'>\n              <label htmlFor='startDate'>\n                Release Date:\n                {(this.state.startDate &&\n                  !/\\d{2}-\\d{2}-\\d{4}/.test(this.state.startDate)) ||\n                (this.state.endDate &&\n                  !/\\d{2}-\\d{2}-\\d{4}/.test(this.state.endDate)) ? (\n                  <span className='text-danger'> MM-DD-YYYY</span>\n                ) : (\n                  ''\n                )}\n              </label>\n              <div className='form-group row'>\n                <label className='mr-4 col-sm-1'>from</label>\n                <input\n                  className='mr-1 col-sm-3 form-control'\n                  type='text'\n                  placeholder='MM-DD-YYYY'\n                  name='startDate'\n                  onChange={this.onTextChange}\n                  value={this.state.startDate}\n                />\n                <label className='mr-2 col-sm-1'>to</label>\n                <input\n                  className='mr-1 col-sm-3 form-control'\n                  type='text'\n                  placeholder='MM-DD-YYYY'\n                  name='endDate'\n                  onChange={this.onTextChange}\n                  value={this.state.endDate}\n                />\n              </div>\n            </div>\n          </div>\n\n          <div className='form-group row'>\n            <button\n              className='col-sm-1 mx-2 btn btn-primary'\n              disabled={!this.state.searchText}\n              onClick={this.onSearchButtonClick}\n            >\n              Search\n            </button>\n            <button\n              className='col-sm-1 mx-2 btn btn-primary'\n              disabled={\n                !this.state.searchText &&\n                !this.state.startDate &&\n                !this.state.endDate &&\n                !this.props.resultsReady\n              }\n              onClick={this.onClearButtonClick}\n            >\n              Clear\n            </button>\n          </div>\n        </div>\n\n        {this.state.fetchingData ? (\n          <p className='lead text-center'>{'loading... '}</p>\n        ) : (\n          (this.state.error && (\n            <p className='text-danger'>{this.state.error}</p>\n          )) || (\n            <AllResults\n              songs={this.props.results}\n              resultsReady={this.props.resultsReady}\n            />\n          )\n        )}\n      </div>\n    );\n  }\n}\n\nSearch.propTypes = {\n  results: PropTypes.array,\n  setResults: PropTypes.func\n};\n\nexport default Search;\n","import React, { Component } from 'react';\nimport Search from './components/Search';\n\nclass App extends Component {\n  state = {\n    results: [],\n    resultsReady: false\n  };\n\n  setResults = (results, resultsReady) => {\n    this.setState({ results, resultsReady });\n  };\n\n  render() {\n    return (\n      <div className='container'>\n        <div className='header clearfix mt-5'>\n          <h3 className='text-muted'>Itunes Song Search</h3>\n        </div>\n        <div className='jumbotron'>\n          <Search\n            results={this.state.results}\n            setResults={this.setResults}\n            resultsReady={this.state.resultsReady}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}